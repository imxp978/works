<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio</title>
  <link href="/src/style/style.css" rel="stylesheet">
  <style>
    *{
      /* border: 1px solid black; */
      line-height: 1.7em;
    }

    a {
      text-decoration: none;
      color: orange;
    }

    a:hover {
      color: yellow;
    }
    #ecommerce {
      background: linear-gradient(85deg,rgba(78, 78, 78, 0.95) 40%,transparent 40%) center center / 100% 100%, url("/images/ecommerce.gif") fixed no-repeat center right;
      transition: 0.3s;
      height: 180vh; /* Ensure the section takes full viewport height */
    }
    #ecommerce .container {
      margin: 0 auto;
      max-width: 1440px;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: center;
      padding: 10px;
    }

    #ecommerce .container h1 {
      font-size: 80px;
      /* transition: color 0.3s; */
      /* position: sticky; */
    }
    #collector {
      background: linear-gradient(-85deg, rgba(158, 158, 158, 0.8) 40%, transparent 40%) center center / 100% 100%, url("/images/collector.gif") fixed no-repeat center left;
      transition: 0.3s;
      height: 180vh; /* 確保區塊佔滿整個視口高度 */
    }
    #collector .container {
      margin: 0 auto;
      max-width: 1440px;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      justify-content: center;
    }

    #collector .container h1 {
      font-size: 80px;
      transition: color 0.3s;
      /* position: sticky; */
    }
  </style>
</head>
<body class="bg-gray-100" @scroll="handleScroll">
  <div id="app">
    <!-- Navbar -->
    <nav class="bg-white shadow-lg">
      <div class="container mx-auto p-4 flex justify-between items-center">
        <div class="text-2xl font-bold">MyPortfolio</div>
        <div>
          <a href="#about" class="text-gray-800 mx-4">About</a>
          <a href="#portfolio" class="text-gray-800 mx-4">Portfolio</a>
          <a href="#contact" class="text-gray-800 mx-4">Contact</a>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="bg-blue-500 text-white h-screen flex items-center justify-center">
      <div class="text-center">
        <h1 class="text-5xl font-bold">Hello, I'm a Frontend Developer</h1>
        <p class="text-2xl mt-4">I build beautiful and responsive websites</p>
        <button class="mt-8 px-6 py-3 bg-white text-blue-500 font-semibold rounded-lg">See My Work</button>
      </div>
    </section>

    <!-- Demo Section -->
    <section id="ecommerce" class="" :style="{ filter: `blur(${blurValue}px)`, color: dynamicColor }">
      <div class="container">
        <h1>電商購物網站</h1>
        <p>使用的技術為：
          <ul>
            <li>前端：Vue3, Vue-Router, Pinia</li>
            <li>後端：PHP, MySQL</li>
            <li>第三方套件：Axios, Bootstrap</li>
          </ul>
        </p>
        <br>
        <p><a href="">github</a> | <a href="">DEMO</a></p>
      </div>
    </section>
    <!-- Demo Section -->
    <!-- <section id="collector" :style="{ filter: `blur(${blurValue}px)`, color: dynamicColor }"> -->
    <section id="collector" >
      <div class="container">
        <h1>收藏品後台</h1>
        <p>使用的技術為：
          <ul>
            <li>前端：Vue3, Vue-Router, Pinia</li>
            <li>後端：PHP, MySQL</li>
            <li>第三方套件：Axios, Bootstrap</li>
          </ul>
        </p>
        <br>
        <p><a href="">github</a> | <a href="">DEMO</a></p>
      </div>
    </section>

    <!-- About Me -->
    <section id="about" class="container mx-auto p-10">
      <h2 class="text-4xl font-bold mb-6">About Me</h2>
      <p class="text-gray-700 leading-relaxed">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vel lacus odio. Integer eget mauris vel lectus dignissim suscipit.</p>
    </section>

    <!-- Portfolio -->
    <section id="portfolio" class="container mx-auto p-10 bg-gray-50">
      <h2 class="text-4xl font-bold mb-6">My Work</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- Portfolio Item -->
        <div class="bg-white shadow-lg rounded-lg overflow-hidden">
          <img src="https://via.placeholder.com/400x300" alt="Project 1" class="w-full">
          <div class="p-4">
            <h3 class="text-xl font-bold">Project 1</h3>
            <p class="text-gray-600">Description of the project goes here.</p>
          </div>
        </div>
        <!-- Portfolio Item -->
        <div class="bg-white shadow-lg rounded-lg overflow-hidden">
          <img src="https://via.placeholder.com/400x300" alt="Project 2" class="w-full">
          <div class="p-4">
            <h3 class="text-xl font-bold">Project 2</h3>
            <p class="text-gray-600">Description of the project goes here.</p>
          </div>
        </div>
        <!-- Portfolio Item -->
        <div class="bg-white shadow-lg rounded-lg overflow-hidden">
          <img src="https://via.placeholder.com/400x300" alt="Project 3" class="w-full">
          <div class="p-4">
            <h3 class="text-xl font-bold">Project 3</h3>
            <p class="text-gray-600">Description of the project goes here.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="container mx-auto p-10">
      <h2 class="text-4xl font-bold mb-6">Contact Me</h2>
      <form>
        <div class="mb-4">
          <label for="name" class="block text-gray-700">Name</label>
          <input type="text" id="name" class="w-full p-2 border border-gray-300 rounded-lg">
        </div>
        <div class="mb-4">
          <label for="email" class="block text-gray-700">Email</label>
          <input type="email" id="email" class="w-full p-2 border border-gray-300 rounded-lg">
        </div>
        <div class="mb-4">
          <label for="message" class="block text-gray-700">Message</label>
          <textarea id="message" class="w-full p-2 border border-gray-300 rounded-lg"></textarea>
        </div>
        <button class="px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg">Send Message</button>
      </form>
    </section>
  </div>

  <script src="/src/main.js"></script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script>
    const { createApp, ref, onMounted } = Vue;

    createApp({
      setup() {
        const blurValue = ref(10);
        const dynamicColor = ref('#808080');

        function handleScroll() {
          const div = document.getElementById('ecommerce');
          const rect = div.getBoundingClientRect();
          const windowHeight = window.innerHeight;

          // 計算 #demo 區塊的可見比例
          const visibleHeight = Math.max(0, Math.min(rect.bottom, windowHeight) - Math.max(rect.top, 0));
          const totalHeight = rect.height;

          let visibleRatio = 0;
          if (rect.top <= 0 && rect.bottom >= windowHeight) {
            visibleRatio = 1
          } else {
            visibleRatio = visibleHeight / totalHeight;
          }

          // 根據可見比例設置 blurValue
          blurValue.value = 15 * (1 - visibleRatio);
          
          const startColor = 240; // 白色的 RGB 值
          const endColor = 0;   // 灰色的 RGB 值
          const colorValue = Math.floor(startColor - (startColor - endColor) * (1 - visibleRatio));
          const color = `rgb(${colorValue}, ${colorValue}, ${colorValue})`;

          dynamicColor.value = color;
        }

        onMounted(() => {
          window.addEventListener('scroll', handleScroll);
        });

        return {
          blurValue,
          dynamicColor,
          handleScroll
        };
      }
    }).mount('#app');
  </script>
</body>
</html>
